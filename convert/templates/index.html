<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Data Converters</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

  </head>

  <body>

    <div class="container">
      <h1>Data Converters</h1>

      <p>Web services for converting data from one format to another.  The converters accept data as a query parameter named url.  There's already <a href="https://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing">CORS</a> support and JSOP (add callback parameter to the URL).  Empty column names will be auto-generated with column_1, column_2, etc. Duplicate column names will have _n added as well. For instance, two columns with name date will be date_1, date_2.</p>

      <ul>
        <li><a href="https://docs.google.com/presentation/d/1LplNTIFwVIAfeP-C8RkPhlZJqaV95DasHlhloPrdvIc/edit">Architecture slidedeck</a></li>
        <li><a href="https://docs.google.com/drawings/d/1fxamPv8ccJYI-NSQJ_7hcPoF5X8eBTQDatg-HCybsZk/edit">Architecture (Simple) Drawing</a></li>
        <li><a href="https://docs.google.com/drawings/d/1GbtXf5m9HLVXTNXhJiE0V1SQs0mP9os11y-48TDzKqA/edit">Architecture (Complex) Drawing</a></li>
      </ul>

      <p>User stories are on <a href="https://docs.google.com/document/d/1ivosmeaFS0NgQI-wlehCIdQGlnRm-Yk571tqA2FMBqg/edit">Google Docs</a>, if you want to add more, please file an issue.</p>

      <p>Please bugs for any issues you see.</p>

      <h2>CSV -> JSON</h2>

      <p>Converter automatically detects mime-type, if your file's mime-type is not "text/csv" or "text/comma-separated-values", add <code>type=csv</code> to the url. </p>

      <p>Example - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv</a></p>

      <p>Example with type - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv&amp;type=csv">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv&amp;type=csv</a></p>

      <p>Example with JSONP - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv&amp;callback=callback">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/csv/simple.csv&amp;callback=callback</a></p>

      <h2>XLS(X) -> JSON</h2>

      <p>If your file's mime-type is not "application/excel", "application/vnd.ms-excel", or 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', add <code>type=xls</code> to the url.  If your file is an xlsx file, add <code>type=xls&amp;excel_type=xlsx</code>.</p>

      <p>Example - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xls">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xls</a></p>

      <p>Example with type - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xls&amp;type=xls">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xls&amp;type=xls</a></p>

      <p>Example of xlsx file with type - <a href="http://converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xlsx&amp;type=xls&amp;excel_type=xlsx">converter.dev.okfn.org/api/convert/json?url=http://resources.opendatalabs.org/u/nigelb/data-converters/xls/simple.xlsx&amp;type=xls&amp;excel_type=xlsx</a></p>

    </div> <!-- /container -->

  </body>
</html>
